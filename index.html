<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">

  <title>LASER</title>
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

  <link rel="stylesheet" href="static/css/bulma.min.css">
  <link rel="stylesheet" href="static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="static/css/index.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="static/css/table.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
  <!-- <script defer src="static/js/fontawesome.all.min.js"></script> -->
  <script src="static/js/bulma-carousel.min.js"></script>
  <script src="static/js/bulma-slider.min.js"></script>
  <script src="static/js/index.js"></script>
  <script src="https://kit.fontawesome.com/dcd6d05807.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    
    <section class="hero">
        <div class="hero-body">
          <div class="container is-max-desktop">
            <div class="columns is-centered">
              <div class="column has-text-centered">
                <h1 class="title is-1 publication-title">LASER: 基于大语言模型的测试场景生成系统</h1>
    
                <!-- <a href=index.html>English</a> | 中文 -->
                
                <div class="column has-text-centered">
                  <div class="publication-links">
    
                    <!-- Github link -->
                    <span class="link-block">
                      <a href="https://github.com/CXYyp5SkNg/CXYyp5SkNg.github.io" target="_blank"
                        class="external-link button is-normal is-rounded is-dark">
                        <span class="icon">
                          <i class="fab fa-github"></i>
                        </span>
                        <span>Code</span>
                      </a>
                    </span>
    
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    
      <!-- Paper abstract -->
      <section class="section hero is-light">
        <div class="container is-max-desktop">
          <div class="columns is-centered has-text-centered">
            <div class="column is-four-fifths">
              <h2 class="title is-3">摘要</h2>
              <div class="content has-text-justified">
                <p>
                  <b>
                    自动驾驶系统（ADS）作为需要高可靠性保障的典型智能软件系统，依赖多样且复杂的交通场景来进行有效的测试。
                    现有的测试场景生成方法在可定制性、行为复杂性、及可交互性等方面存在不足，难以满足自动驾驶系统的测试需求。
                    本文提出了LASER——基于大语言模型（LLMs）按需生成可交互测试场景的原型系统，配合自动驾驶仿真软件，能够基于用户提供的自然语言需求自动生成可交互仿真测试场景。
                    LASER将测试场景生成分为两个阶段：（1）根据用户的需求，生成用以构造测试场景的全局控制脚本；（2）借助LLMs的自然语言理解能力，按照该脚本实时操控场景中的可动要素进行测试场景生成。
                    在CARLA模拟器上的实验结果表明LASER能够根据用户需求成功创建和模拟多样化的风险场景，有效支撑了ADS的测试需求。
                  </b>
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- End paper abstract -->
    
    
      <!-- Framework. -->   
      <section class="section" id="Framework">
        <div class="container is-max-desktop">
          <h2 class="title">框架</h2>
          <div class="hero-body">
            <center>
                <img src="static/images/概念图_zh.png" width="80%"/>
            </center>
            <h2 class="subtitle has-text-justified" style="padding-top: 1rem;" style="width: 80%;">
                LASER包含两个主要模块：
                （1）需求全局控制器和
                （2）场景要素操控器。
                LASER利用大语言模型（LLMs）从用户提供的简洁需求描述（自然语言）中生成全局的控制脚本（自然语言），并借助LLMs对控制脚本的理解指导场景（由仿真环境提供）中每个可动要素，逐步执行控制脚本，最终创建出复杂的交互式驾驶场景。
                通过LASER系统，用户可以按需构建ADS仿真测试场景。
            </h2>
          </div>
        </div>
      </section>
    
  <!--show video here-->
  <section class="section" id="LiveDemo">
    <div class="container is-max-desktop">
    <h2 class="title">仿真实验结果：</h2>
      <ol>
          <li>选择场景，你将看到对应的自然语言控制脚本。</li>
          <li>点击运行，你将看到场景实际仿真模拟的过程。</li>
      </ol>
      <div class="row g-3">
        <div class="col">
          <div class="input-group mb-3">
            <button type="button" class="btn btn-outline-secondary" disabled>场景</button>
            <input id="currenScene" readonly type="text" class="form-control" value="Accident"/>
            <button type="button" class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split"
              data-bs-toggle="dropdown" aria-expanded="false">
              <span class="visually-hidden">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu" id="dropdownList">
              <!-- Add your scene here -->
              <li class="dropdown-item">Accident</li>
              <li class="dropdown-item">Ambulance</li>
              <li class="dropdown-item">Bus</li>
              <li class="dropdown-item">Caught in Pincer</li>
              <li class="dropdown-item">Cut-in</li>
              <li class="dropdown-item">Failed at Start</li>
              <li class="dropdown-item">Meet in Mind 1</li>
              <li class="dropdown-item">Meet in Mind 2</li>
              <li class="dropdown-item">Merge Alternately</li>
              <li class="dropdown-item">Newbie Lane Change 1</li>
              <li class="dropdown-item">Newbie Lane Change 2</li>
              <li class="dropdown-item">Reckless Driving</li>
              <li class="dropdown-item">Sudden Jaywalker</li>
              <li class="dropdown-item">Surrounded</li>
              <li class="dropdown-item">Swerve</li>
              <li class="dropdown-item">Three in Line 1</li>
              <li class="dropdown-item">Three in Line 2</li>
              
            </ul>
          </div>
        </div>
        <div class="col">
          <button type="button" class="btn btn-outline-secondary w-100" onclick="viewScene()">运行</button>
        </div>
      </div>
      <div class="row g-3" style="margin-top: 1rem;">
        <div class="col">
          <p class="fw-bold">场景脚本</p>
          <pre id="showSceneScript" style="height: 500px; width:630px; overflow-y: auto; background-color: #f5f5f5;"></pre>
        </div>
        <div class="col has-text-centered">
          <p class="fw-bold">结果视频</p>
          <div id="showResult" style="height: 360px; width: 640px;">
            <video poster="" id="tree" controls autoplay muted loop height="100%" width="100%">
                <!-- Your video here -->
                <source src="static/videos/Accident.mp4" type="video/mp4"/>
            </video>
          </div>
          实际模拟录制视频的回放
        </div>
      </div>
    </div>
  <!-- </section> -->

    <!--criteria for reviewing simulations-->
  <section class="section" id="Criteria">
    <div class="container is-max-desktop">
      <h2 class="title">场景执行过程正确性标准：</h2>
      <table>
        <tr>
            <th>场景</th>
            <th>标准</th>
        </tr>
        <tr>
            <td>Accident</td>
            <td>两车在与前方事故车辆碰撞前按照脚本一左一右正确变道。</td>
        </tr>
        <tr>
            <td>Ambulance</td>
            <td>当救护车接近时，同车道的车辆一个接一个地变道让行，没有发生任何碰撞。</td>
        </tr>
        <tr>
            <td>Bus</td>
            <td>公交车变道并停靠在公交车站误差2.5米范围内，然后再次启动并变道回来。</td>
        </tr>
        <tr>
          <td>Reckless Driving</td>
          <td>危险驾驶车辆成功从左车道超越第一辆车，并从右车道超越第二辆车。</td>
        </tr>
        <tr>
          <td>Cut-in*</td>
          <td>超车车辆成功变道超越前车后减速。</td>
        </tr>
        <tr>
          <td>Sudden Jaywalker*</td>
          <td>当自车接近时，行人突然从卡车后面走出。</td>
        </tr>
        <tr>
          <td>Swerve*</td>
          <td>前车减速直至停车，后车在与前车相撞前变道进入自车车道，差点撞上自车。</td>
        </tr>
        <tr>
          <td>Three in Line 1*</td>
          <td>前车减速停车，后车在与前车相撞前向右变道，然后驶离。</td>
        </tr>
      </table>
    </div>
  </section>


  <footer class="footer">
    <div class="container">
      <div class="columns is-centered">
        <div class="column is-8">
          <div class="content">

            <p style="text-align: center;"><i class="fa-solid fa-heart fa-beat-fade" style="color: #ff8787;"></i>
              This page was built using the <a href="https://github.com/eliahuhorwitz/Academic-project-page-template"
                target="_blank">Academic Project Page Template</a> <i class="fa-solid fa-heart fa-beat-fade"
                style="color: #ff8787;"></i>
            </p>

          </div>
        </div>
      </div>
    </div>
  </footer>

</body>
<script>
  function viewScene() {
    var currentScene = $('#currenScene').val();
    var TDPath = 'static/videos/' + currentScene + '.mp4';
    $('#tree').attr('src', TDPath);
  }
  function getJson(url){
    fetch(url)
      .then(response => response.json())
      .then(data => {
            // 将 JSON 数据格式化为字符串并插入到 <pre> 标签中
            document.getElementById('showSceneScript').textContent = JSON.stringify(data, null, 2);
        })
        .catch(error => {
            console.error('Error fetching the JSON file:', error);
            document.getElementById('showSceneScript').textContent = '无法加载 JSON 文件。';
        })
  }
  $(document).ready(function () {
    $("#dropdownList li").click(function () {
      var scene = $(this).text();
      $("#currenScene").val(scene);
      getJson("static/text/scenes/"+scene+"/script.json")
    });
    getJson("static/text/scenes/Accident/script.json");
  });

</script>
</html>